<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>QuickStop CodeLab ‚Äî Enter Lab</title>
  <link rel="stylesheet" href="style.css">
  <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;500;700;900&family=Orbitron:wght@500;700&display=swap" rel="stylesheet">
</head>
<body>
  <div class="page">
    <!-- Navigation -->
    <div class="panel">
      <div class="cta-group">
        <a href="index.html" class="btn-cta">Home</a>
        <a href="projects.html" class="btn-cta">Projects</a>
      </div>
    </div>

    <!-- Hero -->
    <section class="lab-hero">
      <h1>Enter the Lab</h1>
      <p>Connect with us and explore our interactive demo environment.</p>
    </section>

    <!-- Demo -->
    <section class="lab-demo">
      <h2>Interactive Demo</h2>
      <model-viewer id="labModel"
        src="models/character1.glb"
        autoplay
        camera-controls
        shadow-intensity="1"
        scale="0.3 0.3 0.3">
      </model-viewer>

      <div class="ui-bottom" aria-hidden="false">
        <div class="mini-card terminal-btn" id="btnTerminal" role="button" tabindex="0">
          <div class="legend-dot" aria-hidden="true"></div>
          <div>Interactive Lab ‚Ä¢ Click Terminal</div>
        </div>
        <button class="btn-cta" id="btnToggleMotion">Motion: ON</button>
      </div>

      <div id="terminalWindow" class="terminal hidden">
        <div class="terminal-header">QS CodeLab Interactive Lab</div>
        <div class="terminal-body">
          <button class="cmd-btn" data-action="look">Look Nervous</button>
          <button class="cmd-btn" data-action="wave">Wave</button>
          <button class="cmd-btn" data-action="dance">Dance</button>
          <button class="cmd-btn" data-action="resume">Resume All</button>
        </div>
      </div>
    </section>


<!-- Contact -->
<section id="contact" class="contact-section">
  <h2>Contact Us</h2>
  <ul class="contact-list">
    <li>
      <a href="https://wa.me/2349058998448" target="_blank">
        <img src="https://img.icons8.com/ios-filled/28/00c7ff/whatsapp.png" alt="WhatsApp" class="contact-icon"/>
      </a>
    </li>
    <li>
      <a href="mailto:support@quickstopcyber.com">
        <img src="https://img.icons8.com/ios-filled/28/00c7ff/gmail.png" alt="Email" class="contact-icon"/>
      </a>
    </li>
    <li>
      <a href="tel:+2349058998448">
        <img src="https://img.icons8.com/ios-filled/28/00c7ff/phone.png" alt="Phone" class="contact-icon"/>
      </a>
    </li>
    <li>
      <a href="https://www.tiktok.com/@klasicceo?_t=ZS-8zyqi6Fbmwp&_r=1" target="_blank">
        <img src="https://img.icons8.com/ios-filled/24/00c7ff/tiktok.png" alt="TikTok" class="contact-icon"/>
      </a>
    </li>
    <li>
      <a href="https://x.com/klasic00?s=21" target="_blank">
        <img src="https://img.icons8.com/ios-filled/24/00c7ff/x.png" alt="X" class="contact-icon"/>
      </a>
    </li>
  </ul>

<!-- Fixed address with glowing link -->
<div class="contact-address">
  <a href="https://maps.app.goo.gl/G4367RhieyeFXN4A9" target="_blank">
     üìçEsuk Atu, Calabar 540211, Cross River
  </a>
</div>


  </div>

  <!-- Footer -->
  <footer class="holo-footer">
    <div class="holo-bg"></div>
    <div class="holo-logo">
      <img src="image/CodeLab logo.jpeg" alt="QuickStop CodeLab Logo">
      <span class="glitch-text">QUICKSTOP CODELAB</span>
    </div>
    <nav class="holo-nav">
      <a href="index.html">Home</a>
      <a href="projects.html">Projects</a>
    </nav>
    <div class="holo-credits">
      <p class="glitch-small">Codelab Web v1.0</p>
      <p class="glitch-small">¬© 2025 QuickStop CodeLab ‚Äî All Rights Reserved</p>
    </div>
  </footer>

  <!-- Terminal & Motion Script -->
  <script>
  (function(){
    const viewer = document.getElementById('labModel'); // fixed ID
    const terminalBtn = document.getElementById('btnTerminal');
    const terminalWindow = document.getElementById('terminalWindow');
    const cmdButtons = document.querySelectorAll('.cmd-btn');
    const motionBtn = document.getElementById('btnToggleMotion');

    let looping = false;
    let loopStart = 0;
    let loopEnd = 0;
    let rafId = null;
    let motionEnabled = true;
    let activeBtn = null;

    // Action ranges in seconds
    const actions = {
      look: [1.0, 6.6],
      wave: [6.7, 8.2],
      dance: [8.3, 55.8],
    };

    function rafTick() {
      rafId = requestAnimationFrame(() => {
        if (!looping || !motionEnabled) return;
        const t = Number(viewer.currentTime || 0);
        if (t >= loopEnd) viewer.currentTime = loopStart;
        rafTick();
      });
    }

    function startLoop(start, end, btn) {
      loopStart = start;
      loopEnd = end;
      looping = true;
      setActiveButton(btn);
      viewer.currentTime = loopStart;
      if (motionEnabled) viewer.play();
      if (!rafId) rafTick();
    }

    function clearLoop() {
      looping = false;
      loopStart = 0;
      loopEnd = 0;
      if (rafId) cancelAnimationFrame(rafId);
      rafId = null;
      setActiveButton(null);
      if (motionEnabled) viewer.play();
    }

    function setActiveButton(btn) {
      if (activeBtn) activeBtn.classList.remove('active');
      activeBtn = btn || null;
      if (activeBtn) activeBtn.classList.add('active');
    }

    // Terminal toggle
    if (terminalBtn) {
      terminalBtn.addEventListener('click', e => {
        e.stopPropagation();
        terminalWindow.classList.toggle('hidden');
      });
    }
    document.addEventListener('click', e => {
      if (!terminalWindow) return;
      if (!terminalWindow.contains(e.target) && e.target !== terminalBtn) {
        terminalWindow.classList.add('hidden');
      }
    });
    if (terminalWindow) terminalWindow.addEventListener('click', e => e.stopPropagation());

    // Command buttons
    cmdButtons.forEach(btn => {
      btn.addEventListener('click', e => {
        e.stopPropagation();
        const action = btn.dataset.action;
        if (!action) return;
        if (action === 'resume') { clearLoop(); return; }
        const range = actions[action];
        if (!range) return;
        startLoop(range[0], range[1], btn);
      });
    });

    // Motion toggle
    if (motionBtn) {
      motionBtn.addEventListener('click', () => {
        motionEnabled = !motionEnabled;
        motionBtn.textContent = motionEnabled ? 'Motion: ON' : 'Motion: OFF';
        if (motionEnabled) {
          if (looping) viewer.play();
          else viewer.play();
          if (!rafId) rafTick();
        } else {
          viewer.pause();
        }
      });
    }

  })();
  </script>
</body>
</html>
